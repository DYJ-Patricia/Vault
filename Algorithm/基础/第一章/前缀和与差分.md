- 把S0定为0

# 二维前缀和
![[Pasted image 20251112195332.png]]


![[Pasted image 20251112212712.png]]

![[Pasted image 20251112195948.png]]

# 一维差分
- 原本有a数组，现构造b数组
- 使得a数组是b数组的前缀和
- b就称为a的差分
## 应用

- 想要在A里的一段范围内所有数都加一个数，那么只需要在B里改两个数就能实现

![[Pasted image 20251112221043.png]]


## 例题

![[Pasted image 20251112220636.png]]

![[Pasted image 20251112221822.png]]

# 二维差分
- 在B里某点加c，那么A相应的那个点之后也加c，但某些区域本来不应该加c，所以要补回去
![[Pasted image 20251112232623.png]]
- 相当于，如果想给A的中间那块矩阵加c，就可以只需要操作B里的四个数就行

## 初始化

![[Pasted image 20251112233131.png]]
- 相当于插了一个长宽都为1的矩阵
- 相当于子矩阵，也可以套用左下角的式子，后面操作一样
- 最后想求aij的值，求一下bij的前缀和就行

## 例题

![[Pasted image 20251112233703.png]]


![[Pasted image 20251112234147.png]]

![[Pasted image 20251112234316.png]]
